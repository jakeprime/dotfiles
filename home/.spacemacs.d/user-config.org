* User config
After everything has loaded.
=, b t= to tangle files after editing.

** ðŸ˜Ž

#+begin_src emacs-lisp :table "~/.spacemacs.d/spacemacs-init.el"
  (setq dotspacemacs-startup-banner "~/.spacemacs.d/vaporwave-sun.png")
#+end_src

#+begin_src emacs-lisp :tangle "~/.spacemacs.d/user-config.el"
  (add-to-list 'custom-theme-load-path "~/.spacemacs.d/")
  (load-file "~/.spacemacs.d/faces-init.el")

  (setq dotspacemacs-startup-banner "~/.spacemacs.d/vaporwave-sun.png")
#+end_src

** Flow
=j k= to escape.

#+begin_src emacs-lisp :tangle "~/.spacemacs.d/user-config.el"
  (setq evil-escape-key-sequence [106 107])
#+end_src

** Git

#+begin_src emacs-lisp :tangle "~/.spacemacs.d/layer-config.el"
  (setq git-enable-magit-delta-plugin t)
#+end_src

#+begin_src emacs-lisp :tangle "~/.spacemacs.d/user-config.el"
  (setq vc-follow-symlinks t)
#+end_src

** Layout

#+begin_src emacs-lisp :tangle "~/.spacemacs.d/user-config.el"
  (use-package transient-posframe
    :ensure t
    :init (transient-posframe-mode))
#+end_src

** Coding

*** Ruby
**** Bundler
Make sure we use bundler for flycheck and lsp tools. Otherwise we would have issues when multiple projects use different versions, especially as the work ones are out of my individual control.

#+begin_src emacs-lisp :tangle "~/.spacemacs.d/user-config.el"
  (setq lsp-rubocop-use-bundler t)
  (setq lsp-ruby-lsp-use-bundler t)
  (setq lsp-solargraph-use-bundler t)

  (add-hook 'ruby-mode-hook
            (lambda ()
              (setq-local flycheck-command-wrapper-function
                          (lambda (command) (append '("bundle" "exec") command)))))
#+end_src

**** Tests
For some reason by default there are a couple of spaces rendered at the beginning of the filename, breaking navigation.

#+begin_src emacs-lisp :tangle "~/.spacemacs.d/user-config.el"
  (assq-delete-all 'ruby-Test::Unit compilation-error-regexp-alist-alist)
  (add-to-list 'compilation-error-regexp-alist-alist '(ruby-Test::Unit "^ +\\([^ (].*\\):\\([1-9][0-9]*\\):in " 1 2))
  (assoc 'ruby-Test::Unit compilation-error-regexp-alist-alist)
#+end_src

*** Typescript

#+begin_src emacs-lisp :tangle "~/.spacemacs.d/layer-config.el"
  (setq typescript-fmt-on-save t)
  (setq typescript-fmt-tool 'prettier)
  (setq typescript-indent-level 2)
  (setq typescript-linter 'eslint)
#+end_src

